(this["webpackJsonporm-frontend-task"]=this["webpackJsonporm-frontend-task"]||[]).push([[0],{121:function(e,r,t){e.exports={form:"Form_form__3NMmT"}},122:function(e,r,t){e.exports={"form-error":"FormError_form-error__20FfW"}},133:function(e,r,t){},134:function(e,r,t){},263:function(e,r,t){"use strict";t.r(r);var n,a=t(4),c=t.n(a),i=t(27),o=t(0),s=t.n(o),l=t(114),u=t.n(l),d=(t(133),t(123)),m=t(9),f=(t(134),t(7)),b=t(21),p=["title","titleId"];function _(){return(_=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function j(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function h(e,r){var t=e.title,a=e.titleId,c=j(e,p);return o.createElement("svg",_({width:155.743,height:219.575,viewBox:"0 0 41.207 58.096",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":a},c),t?o.createElement("title",{id:a},t):null,n||(n=o.createElement("g",{transform:"translate(-9.072 -4.636)"},o.createElement("path",{d:"M18.356 25.034c-2.287-2.647-1.832-3.433-2.337-5.378-.434-1.671-1.96-5.798-1.96-5.798.575 1.458 6.352 7.505 9.505 6.879 1.273-3.08.241-10.4.241-10.4s1.805 4.711 4.9 6.912c1.197.851 2.587 1.72 2.995 3.242.405-5.713 2.2-11.704 6.832-15.856l.706 2.346c-3.695 2.92-4.74 8.44-6.18 13.572 1.08-2.481 3.258-3.792 5.478-5.137 1.204-.73 3.777-3.273 3.777-3.273-.327 3.732-3.567 10.426-7.567 10.462l2.351.897a98.882 98.882 0 016.487-3.32c1.086-.505 3.313-1.39 3.313-1.39s-4.962 7.608-5.71 6.516z",fill:"#91a75b"}),o.createElement("g",{id:"group-1",transform:"translate(-81.562 -135.62)"},o.createElement("circle",{cx:111.19,cy:191.16,r:7.189}),o.createElement("circle",{cx:104,cy:187.19,r:7.189}),o.createElement("circle",{cx:99.299,cy:180.44,r:7.189}),o.createElement("circle",{cx:97.823,cy:173.86,r:7.189}),o.createElement("circle",{cx:100.36,cy:166.18,r:7.189})),o.createElement("path",{d:"M18.752 23.376a7.189 7.189 0 00-7.146 7.189 7.189 7.189 0 00.278 1.977 7.189 7.189 0 00-2.812 5.701 7.189 7.189 0 001.733 4.68 7.189 7.189 0 00-.257 1.9 7.189 7.189 0 004.698 6.745 7.189 7.189 0 000 .006 7.189 7.189 0 007.189 7.189 7.189 7.189 0 00.746-.039 7.189 7.189 0 006.446 4.008 7.189 7.189 0 007.19-7.189 7.189 7.189 0 00-7.19-7.19 7.189 7.189 0 00-.745.04 7.189 7.189 0 00-3.956-3.562 7.189 7.189 0 000-.007 7.189 7.189 0 00-1.731-4.68 7.189 7.189 0 00.255-1.9 7.189 7.189 0 00-.277-1.977 7.189 7.189 0 002.811-5.702 7.189 7.189 0 00-7.189-7.189 7.189 7.189 0 00-.043 0z",fillOpacity:.04,fillRule:"evenodd"}),o.createElement("g",{id:"group-2"},o.createElement("circle",{transform:"scale(-1 1)",cx:-36.917,cy:51.574,r:7.189}),o.createElement("circle",{transform:"scale(-1 1)",cx:-29.75,cy:47.627,r:7.189}),o.createElement("circle",{cx:25.018,cy:40.877,r:7.189})),o.createElement("g",{id:"group-5"},o.createElement("circle",{transform:"scale(-1 1)",cx:-40.437,cy:30.869,r:7.189})),o.createElement("g",{id:"group-4",transform:"scale(-1 1)"},o.createElement("circle",{cx:-33.39,cy:26.618,r:7.189}),o.createElement("circle",{cx:-43.09,cy:38.243,r:7.189}),o.createElement("circle",{cx:-35.924,cy:34.296,r:7.189})),o.createElement("g",{id:"group-3"},o.createElement("circle",{transform:"scale(-1 1)",cx:-41.615,cy:44.824,r:7.189}),o.createElement("circle",{transform:"scale(-1 1)",cx:-34.448,cy:40.877,r:7.189}),o.createElement("circle",{cx:26.076,cy:26.618,r:7.189}),o.createElement("circle",{cx:25.113,cy:34.08,r:7.189})),o.createElement("path",{d:"M29.092 31.488c.424.607 1.378 1.705 1.889 1.169.955-1.002-1.08-3.964-2.354-3.421-.705.3.026 1.624.465 2.252zM30.222 25.003c.431.616 1.4 1.73 1.922 1.187.976-1.016-1.092-4.022-2.39-3.472-.72.305.022 1.647.468 2.285zM38.148 38.418c.478.494 1.507 1.344 1.862.702.665-1.199-1.638-3.617-2.662-2.792-.567.457.305 1.579.8 2.09zM39.547 31.884c.486.614 1.564 1.716 2.086 1.133.976-1.09-1.356-4.089-2.697-3.463-.742.347.108 1.694.611 2.33zM37.098 23.503c.4.48 1.278 1.338 1.67.851.734-.91-1.185-3.259-2.218-2.713-.573.302.135 1.364.548 1.862zM44.336 27.747c.39.474 1.252 1.319 1.64.842.723-.892-1.156-3.207-2.173-2.674-.564.295.128 1.341.533 1.832zM47.724 36.547c.326.502 1.066 1.416 1.494.997.8-.783-.763-3.234-1.807-2.83-.578.223-.025 1.313.313 1.833zM45.871 43.617c.488.443 1.525 1.193 1.826.558.562-1.19-1.79-3.361-2.72-2.509-.515.472.389 1.492.894 1.951z",fill:"#fff",fillOpacity:.2,fillRule:"evenodd"}))))}var v,y=o.forwardRef(h),x=(t.p,t(64)),O=t.n(x),g=t(2),w=function(e){var r=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e;null===(e=r.current)||void 0===e||e.querySelectorAll("circle").forEach((function(e){e.classList.add(O.a.logo__circle)}));var t=[1,2,3,4,5].map((function(e){var t;return{number:e,element:null===(t=r.current)||void 0===t?void 0:t.querySelector("g#group-".concat(e))}})),n=window.setInterval((function(){t.forEach((function(e){var r;null===(r=e.element)||void 0===r||r.querySelectorAll("circle").forEach((function(r){window.setTimeout((function(){r.classList.toggle(O.a["logo__circle--blackberry"])}),250*e.number+500*Math.random())}))}))}),3e3);return function(){clearInterval(n)}}),[]),Object(g.jsx)("div",{children:Object(g.jsx)(y,Object(b.a)({ref:r,className:O.a.logo},e))})},E=t(38),k=t.n(E),P=function(e){var r=e.title,t=void 0===r?"":r,n=e.children,a=void 0===n?null:n;return Object(g.jsx)("div",{className:k.a.layout,children:Object(g.jsxs)("div",{className:k.a.layout__container,children:[Object(g.jsx)("div",{className:k.a.layout__logo,children:Object(g.jsx)(w,{})}),Object(g.jsxs)("main",{className:k.a.layout__content,children:[Object(g.jsx)("h1",{children:t}),Object(g.jsx)("div",{className:k.a["layout__children-container"],children:a})]})]})})},S=t(115),N=t.n(S).a.create({baseURL:"https://api.orm-task.dev/v1",timeout:5e3}),F=function(e){return N.post("/users/register",e)},q=t(124),T=t(35),R=T.a({email:T.c().max(50,"E-mail address is too long").email("Invalid e-mail address").required("E-mail is required"),name:T.c().max(50,"Provided name is too long").matches(/[\s]/,"Missing last name").required("Full name is required"),password:T.c().min(8,"Password is too short").required("Password is required"),confirmPassword:T.c().oneOf([T.b("password"),null],"Please confirm your password").required("Please confirm your password")}),L=t(63),M=t(121),I=t.n(M),z=["children"],C=function(e){var r=e.children,t=Object(L.a)(e,z);return Object(g.jsx)("form",Object(b.a)(Object(b.a)({className:I.a.form},t),{},{children:r}))},V=t(34),A=t.n(V),D=function(e){var r=e.label,t=e.touched,n=void 0!==t&&t,a=e.error,c=void 0===a?"":a,i=e.formikProps,o=e.inputProps,s=void 0===o?{}:o;return Object(g.jsxs)("div",{className:A.a.field,children:[Object(g.jsx)("div",{id:"form-error_".concat(i.name),className:A.a.field__error,role:"alert","aria-label":"".concat(r," error"),children:n?c:""}),Object(g.jsxs)("label",{className:A.a.field__label,children:[Object(g.jsxs)("span",{children:[r,Object(g.jsx)("span",{className:A.a["field__required-asterisk"],children:s.required?" *":""})]}),Object(g.jsx)("input",Object(b.a)(Object(b.a)({className:"".concat(A.a.field__input," ").concat(n&&c?A.a["field__input--invalid"]:""),"aria-invalid":n&&c?"true":"false","aria-describedby":"form-error_".concat(i.name)},i),s))]})]})},U=t(77),B=t.n(U),Y=["children","status"],H=function(e){var r=e.children,t=e.status,n=void 0===t?null:t,a=Object(L.a)(e,Y);return Object(g.jsx)("button",Object(b.a)(Object(b.a)({type:"submit",className:"".concat(B.a.submit," ").concat(n?B.a["submit--".concat(n)]:"")},a),{},{children:r}))},J=t(122),W=t.n(J),K=function(e){var r=e.touched,t=e.isValid,n=e.error;return Object(g.jsxs)("div",{className:W.a["form-error"],"aria-label":"Form error",role:"alert",children:[r&&!t&&"Form contains errors.",r&&t&&n]})},Q=function(e){var r=e.onSubmit,t=e.error,n=Object(o.useState)(!1),a=Object(f.a)(n,2),c=a[0],i=a[1],s=function(e){return function(r){i(!0),e(r)}};return Object(g.jsx)(q.a,{initialValues:{email:"",name:"",password:"",confirmPassword:""},validationSchema:R,onSubmit:r,children:function(e){var r=e.touched,n=e.errors,a=e.isValid,i=e.handleSubmit,o=e.getFieldProps,l=e.isSubmitting;return Object(g.jsxs)(C,{onSubmit:s(i),children:[Object(g.jsx)(D,{label:"E-mail address",touched:r.email,error:n.email,formikProps:o("email"),inputProps:{type:"email",required:!0}}),Object(g.jsx)(D,{label:"Full name",touched:r.name,error:n.name,formikProps:o("name"),inputProps:{type:"text",required:!0}}),Object(g.jsx)(D,{label:"Password",touched:r.password,error:n.password,formikProps:o("password"),inputProps:{type:"password",required:!0}}),Object(g.jsx)(D,{label:"Confirm your password",touched:r.confirmPassword,error:n.confirmPassword,formikProps:o("confirmPassword"),inputProps:{type:"password",required:!0}}),Object(g.jsx)(K,{isValid:a,touched:c,error:t}),Object(g.jsx)(H,{status:l?"pending":null,children:"Continue"})]})}})},X=t(78),G=t.n(X),Z=function(e){var r=e.user;return Object(g.jsxs)("div",{className:G.a["thank-you"],role:"status","aria-label":"Thank You",children:[Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:G.a["thank-you__ok-hand"],children:"\ud83d\udc4c"})}),Object(g.jsxs)("div",{children:["Thank you for registering ",Object(g.jsx)("strong",{children:r.name}),".",Object(g.jsx)("br",{}),"We would send an activation email to",Object(g.jsx)("br",{}),Object(g.jsx)("strong",{children:r.email}),Object(g.jsx)("br",{})]}),Object(g.jsx)("div",{children:"Unfortunately this is just a mock \ud83e\udd37"})]})};!function(e){e.TimeoutError="ECONNABORTED"}(v||(v={}));var $=function(e){var r,t;return"string"===typeof(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)?e.response.data.message:e.code===v.TimeoutError?"Error connecting to server. Please check your connection and contact support if issues persist.":e.message},ee=function(){var e=Object(o.useState)(null),r=Object(f.a)(e,2),t=r[0],n=r[1],a=Object(o.useState)(null),s=Object(f.a)(a,2),l=s[0],u=s[1],d=Object(o.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(r){var t,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(null),e.next=4,F(r);case 4:if(t=e.sent,a=t.data,i=a.message,"string"===typeof(null===(o=a.user)||void 0===o?void 0:o.name)&&"string"===typeof(null===o||void 0===o?void 0:o.email)){e.next=9;break}return n(null!==i&&void 0!==i?i:"There was a problem with server response. Please contact support."),e.abrupt("return");case 9:u(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n($(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),[]);return Object(g.jsx)(P,{title:"Sign up",children:l?Object(g.jsx)(Z,{user:l}):Object(g.jsx)(Q,{onSubmit:d,error:t})})},re=function(){return Object(g.jsx)(d.a,{children:Object(g.jsxs)(m.c,{children:[Object(g.jsx)(m.a,{path:"/signin",children:"Sign In"}),Object(g.jsx)(m.a,{path:"/signup",children:Object(g.jsx)(ee,{})}),Object(g.jsx)(m.a,{path:"/",children:Object(g.jsx)(ee,{})})]})})},te=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,264)).then((function(r){var t=r.getCLS,n=r.getFID,a=r.getFCP,c=r.getLCP,i=r.getTTFB;t(e),n(e),a(e),c(e),i(e)}))},ne=t(13),ae=t(75),ce=t(22),ie=t(45),oe=1500,se=function(e){return e+(1e3*Math.random()-500)},le=[ce.c.post("".concat("https://api.orm-task.dev/v1","/users/register"),function(){var e=Object(i.a)(c.a.mark((function e(r,t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,R.validateSync(r.body),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",t(n.delay(se(oe)),n.status(ie.a.BAD_REQUEST),n.json({message:e.t0})));case 7:if("already@registered.com"!==(a=r.body).email){e.next=10;break}return e.abrupt("return",t(n.delay(se(oe)),n.status(ie.a.CONFLICT),n.json({message:"The e-mail address you've provided is already registered."})));case 10:if("fail me"!==a.name){e.next=12;break}return e.abrupt("return",t(n.delay(se(oe)),n.status(ie.a.INTERNAL_SERVER_ERROR),n.json({message:"There was an error processing your form data. Please contact support if issues persist."})));case 12:if("timeout me"!==a.name){e.next=14;break}return e.abrupt("return",t(n.delay("infinite")));case 14:if("network error me"!==a.name){e.next=16;break}return e.abrupt("return",t.networkError("Failed to connect."));case 16:return e.abrupt("return",t(n.delay(se(oe)),n.status(ie.a.CREATED),n.json({message:"User was successfully registered.",user:{name:a.name,email:a.email}})));case 17:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(r,t,n){return e.apply(this,arguments)}}())],ue=ae.a.apply(void 0,Object(ne.a)(le));(function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/orm-frontend-task"!==window.location.pathname){e.next=3;break}return window.location.pathname+="/",e.abrupt("return");case 3:return e.next=5,ue.start({waitUntilReady:!0,serviceWorker:{url:"/orm-frontend-task/mockServiceWorker.js"}});case 5:u.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(re,{})}),document.getElementById("root")),te();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},34:function(e,r,t){e.exports={field:"Field_field__3DbyS",field__error:"Field_field__error__2vHXr",field__label:"Field_field__label__21wSi","field__required-asterisk":"Field_field__required-asterisk__bzYk0",field__input:"Field_field__input__2onQu","field__input--invalid":"Field_field__input--invalid__hnr4K"}},38:function(e,r,t){e.exports={layout:"Layout_layout__3NDCU",layout__container:"Layout_layout__container__3ja_H",layout__content:"Layout_layout__content__YcH8X","layout__children-container":"Layout_layout__children-container__1dERg"}},64:function(e,r,t){e.exports={logo:"Logo_logo__27mqI",logo__circle:"Logo_logo__circle__2wHKp","logo__circle--raspberry":"Logo_logo__circle--raspberry__h27s0","logo__circle--blackberry":"Logo_logo__circle--blackberry__1Iltt"}},77:function(e,r,t){e.exports={submit:"Submit_submit__13hGd","submit--pending":"Submit_submit--pending__1yxvv","button-loading-spinner":"Submit_button-loading-spinner__E1JVn"}},78:function(e,r,t){e.exports={"thank-you":"ThankYou_thank-you__3FJI6","thank-you__ok-hand":"ThankYou_thank-you__ok-hand__18EfV"}}},[[263,1,2]]]);
//# sourceMappingURL=main.640a7090.chunk.js.map