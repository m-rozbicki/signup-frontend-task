(this["webpackJsonporm-frontend-task"]=this["webpackJsonporm-frontend-task"]||[]).push([[0],{122:function(e,r,t){e.exports={form:"Form_form__3NMmT"}},123:function(e,r,t){e.exports={"form-error":"FormError_form-error__20FfW"}},133:function(e,r,t){},134:function(e,r,t){},263:function(e,r,t){"use strict";t.r(r);var n,a=t(4),c=t.n(a),s=t(21),i=t(0),o=t.n(i),l=t(115),u=t.n(l),d=(t(133),t(124)),m=t(9),p=(t(134),t(6)),b=t(22),f=["title","titleId"];function j(){return(j=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function _(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function h(e,r){var t=e.title,a=e.titleId,c=_(e,f);return i.createElement("svg",j({width:155.743,height:219.575,viewBox:"0 0 41.207 58.096",xmlns:"http://www.w3.org/2000/svg",ref:r,"aria-labelledby":a},c),t?i.createElement("title",{id:a},t):null,n||(n=i.createElement("g",{transform:"translate(-9.072 -4.636)"},i.createElement("path",{d:"M18.356 25.034c-2.287-2.647-1.832-3.433-2.337-5.378-.434-1.671-1.96-5.798-1.96-5.798.575 1.458 6.352 7.505 9.505 6.879 1.273-3.08.241-10.4.241-10.4s1.805 4.711 4.9 6.912c1.197.851 2.587 1.72 2.995 3.242.405-5.713 2.2-11.704 6.832-15.856l.706 2.346c-3.695 2.92-4.74 8.44-6.18 13.572 1.08-2.481 3.258-3.792 5.478-5.137 1.204-.73 3.777-3.273 3.777-3.273-.327 3.732-3.567 10.426-7.567 10.462l2.351.897a98.882 98.882 0 016.487-3.32c1.086-.505 3.313-1.39 3.313-1.39s-4.962 7.608-5.71 6.516z",fill:"#91a75b"}),i.createElement("g",{id:"group-1",transform:"translate(-81.562 -135.62)"},i.createElement("circle",{cx:111.19,cy:191.16,r:7.189}),i.createElement("circle",{cx:104,cy:187.19,r:7.189}),i.createElement("circle",{cx:99.299,cy:180.44,r:7.189}),i.createElement("circle",{cx:97.823,cy:173.86,r:7.189}),i.createElement("circle",{cx:100.36,cy:166.18,r:7.189})),i.createElement("path",{d:"M18.752 23.376a7.189 7.189 0 00-7.146 7.189 7.189 7.189 0 00.278 1.977 7.189 7.189 0 00-2.812 5.701 7.189 7.189 0 001.733 4.68 7.189 7.189 0 00-.257 1.9 7.189 7.189 0 004.698 6.745 7.189 7.189 0 000 .006 7.189 7.189 0 007.189 7.189 7.189 7.189 0 00.746-.039 7.189 7.189 0 006.446 4.008 7.189 7.189 0 007.19-7.189 7.189 7.189 0 00-7.19-7.19 7.189 7.189 0 00-.745.04 7.189 7.189 0 00-3.956-3.562 7.189 7.189 0 000-.007 7.189 7.189 0 00-1.731-4.68 7.189 7.189 0 00.255-1.9 7.189 7.189 0 00-.277-1.977 7.189 7.189 0 002.811-5.702 7.189 7.189 0 00-7.189-7.189 7.189 7.189 0 00-.043 0z",fillOpacity:.04,fillRule:"evenodd"}),i.createElement("g",{id:"group-2"},i.createElement("circle",{transform:"scale(-1 1)",cx:-36.917,cy:51.574,r:7.189}),i.createElement("circle",{transform:"scale(-1 1)",cx:-29.75,cy:47.627,r:7.189}),i.createElement("circle",{cx:25.018,cy:40.877,r:7.189})),i.createElement("g",{id:"group-5"},i.createElement("circle",{transform:"scale(-1 1)",cx:-40.437,cy:30.869,r:7.189})),i.createElement("g",{id:"group-4",transform:"scale(-1 1)"},i.createElement("circle",{cx:-33.39,cy:26.618,r:7.189}),i.createElement("circle",{cx:-43.09,cy:38.243,r:7.189}),i.createElement("circle",{cx:-35.924,cy:34.296,r:7.189})),i.createElement("g",{id:"group-3"},i.createElement("circle",{transform:"scale(-1 1)",cx:-41.615,cy:44.824,r:7.189}),i.createElement("circle",{transform:"scale(-1 1)",cx:-34.448,cy:40.877,r:7.189}),i.createElement("circle",{cx:26.076,cy:26.618,r:7.189}),i.createElement("circle",{cx:25.113,cy:34.08,r:7.189})),i.createElement("path",{d:"M29.092 31.488c.424.607 1.378 1.705 1.889 1.169.955-1.002-1.08-3.964-2.354-3.421-.705.3.026 1.624.465 2.252zM30.222 25.003c.431.616 1.4 1.73 1.922 1.187.976-1.016-1.092-4.022-2.39-3.472-.72.305.022 1.647.468 2.285zM38.148 38.418c.478.494 1.507 1.344 1.862.702.665-1.199-1.638-3.617-2.662-2.792-.567.457.305 1.579.8 2.09zM39.547 31.884c.486.614 1.564 1.716 2.086 1.133.976-1.09-1.356-4.089-2.697-3.463-.742.347.108 1.694.611 2.33zM37.098 23.503c.4.48 1.278 1.338 1.67.851.734-.91-1.185-3.259-2.218-2.713-.573.302.135 1.364.548 1.862zM44.336 27.747c.39.474 1.252 1.319 1.64.842.723-.892-1.156-3.207-2.173-2.674-.564.295.128 1.341.533 1.832zM47.724 36.547c.326.502 1.066 1.416 1.494.997.8-.783-.763-3.234-1.807-2.83-.578.223-.025 1.313.313 1.833zM45.871 43.617c.488.443 1.525 1.193 1.826.558.562-1.19-1.79-3.361-2.72-2.509-.515.472.389 1.492.894 1.951z",fill:"#fff",fillOpacity:.2,fillRule:"evenodd"}))))}var v,y=i.forwardRef(h),x=(t.p,t(65)),O=t.n(x),g=t(1),w=function(e){var r=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e;null===(e=r.current)||void 0===e||e.querySelectorAll("circle").forEach((function(e){e.classList.add(O.a.logo__circle)}));var t=[1,2,3,4,5].map((function(e){var t;return{number:e,element:null===(t=r.current)||void 0===t?void 0:t.querySelector("g#group-".concat(e))}})),n=window.setInterval((function(){t.forEach((function(e){var r;null===(r=e.element)||void 0===r||r.querySelectorAll("circle").forEach((function(r){window.setTimeout((function(){r.classList.toggle(O.a["logo__circle--blackberry"])}),250*e.number+500*Math.random())}))}))}),3e3);return function(){clearInterval(n)}}),[]),Object(g.jsx)("div",{children:Object(g.jsx)(y,Object(b.a)({ref:r,className:O.a.logo},e))})},E=t(39),k=t.n(E),P=function(e){var r=e.title,t=void 0===r?"":r,n=e.children,a=void 0===n?null:n;return Object(g.jsx)("div",{className:k.a.layout,children:Object(g.jsxs)("div",{className:k.a.layout__container,children:[Object(g.jsx)("div",{className:k.a.layout__logo,children:Object(g.jsx)(w,{})}),Object(g.jsxs)("main",{className:k.a.layout__content,children:[Object(g.jsx)("h1",{children:t}),Object(g.jsx)("div",{className:k.a["layout__children-container"],children:a})]})]})})},S=t(116),N=t.n(S).a.create({baseURL:"https://api.orm-task.dev/v1",timeout:5e3}),T=function(e){return N.post("/users/register",e)},q=function(e){return N.post("/users/authenthicate",e)},R=t(62),F=t(23),I=F.a({email:F.c().email("Invalid e-mail address").required("E-mail is required"),password:F.c().required("Password is required")}),L=t(64),M=t(122),C=t.n(M),z=["children"],V=function(e){var r=e.children,t=Object(L.a)(e,z);return Object(g.jsx)("form",Object(b.a)(Object(b.a)({className:C.a.form},t),{},{children:r}))},A=t(36),D=t.n(A),U=function(e){var r=e.label,t=e.touched,n=void 0!==t&&t,a=e.error,c=void 0===a?"":a,s=e.formikProps,i=e.inputProps,o=void 0===i?{}:i;return Object(g.jsxs)("div",{className:D.a.field,children:[Object(g.jsx)("div",{id:"form-error_".concat(s.name),className:D.a.field__error,role:"alert","aria-label":"".concat(r," error"),children:n?c:""}),Object(g.jsxs)("label",{className:D.a.field__label,children:[Object(g.jsxs)("span",{children:[r,Object(g.jsx)("span",{className:D.a["field__required-asterisk"],children:o.required?" *":""})]}),Object(g.jsx)("input",Object(b.a)(Object(b.a)({className:"".concat(D.a.field__input," ").concat(n&&c?D.a["field__input--invalid"]:""),"aria-invalid":n&&c?"true":"false","aria-describedby":"form-error_".concat(s.name)},s),o))]})]})},B=t(78),H=t.n(B),J=["children","status"],Y=function(e){var r=e.children,t=e.status,n=void 0===t?null:t,a=Object(L.a)(e,J);return Object(g.jsx)("button",Object(b.a)(Object(b.a)({type:"submit",className:"".concat(H.a.submit," ").concat(n?H.a["submit--".concat(n)]:"")},a),{},{children:r}))},W=t(123),K=t.n(W),Q=function(e){var r=e.touched,t=e.isValid,n=e.error;return Object(g.jsxs)("div",{className:K.a["form-error"],"aria-label":"Form error",role:"alert",children:[r&&!t&&"Form contains errors.",r&&t&&n]})},X=function(e){var r=e.onSubmit,t=e.error,n=Object(i.useState)(!1),a=Object(p.a)(n,2),c=a[0],s=a[1],o=function(e){return function(r){s(!0),e(r)}};return Object(g.jsx)(R.a,{initialValues:{email:"",password:""},validationSchema:I,onSubmit:r,children:function(e){var r=e.touched,n=e.errors,a=e.isValid,s=e.handleSubmit,i=e.getFieldProps,l=e.isSubmitting;return Object(g.jsxs)(V,{onSubmit:o(s),children:[Object(g.jsx)(U,{label:"E-mail address",touched:r.email,error:n.email,formikProps:i("email"),inputProps:{type:"email",required:!0}}),Object(g.jsx)(U,{label:"Password",touched:r.password,error:n.password,formikProps:i("password"),inputProps:{type:"password",required:!0}}),Object(g.jsx)(Q,{isValid:a,touched:c,error:t}),Object(g.jsx)(Y,{status:l?"pending":null,children:"Continue"})]})}})},G=t(79),Z=t.n(G),$=function(e){var r=e.user;return Object(g.jsxs)("div",{className:Z.a["thank-you"],role:"status","aria-label":"Thank You",children:[Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:Z.a["thank-you__ok-hand"],children:"\ud83d\udc4c"})}),Object(g.jsxs)("div",{children:["Thank you for registering",Object(g.jsx)("br",{})," ",Object(g.jsx)("strong",{children:r.name}),".",Object(g.jsx)("br",{}),"We would send an activation email to",Object(g.jsx)("br",{}),Object(g.jsx)("strong",{children:r.email}),Object(g.jsx)("br",{})]}),Object(g.jsx)("div",{children:"Unfortunately this is just a mock \ud83e\udd37"})]})};!function(e){e.TimeoutError="ECONNABORTED"}(v||(v={}));var ee,re=function(e){var r,t;return"string"===typeof(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)?e.response.data.message:e.code===v.TimeoutError?"Error connecting to server. Please check your connection and contact support if issues persist.":e.message},te=function(){var e=Object(i.useState)(null),r=Object(p.a)(e,2),t=r[0],n=r[1],a=Object(i.useState)(null),o=Object(p.a)(a,2),l=o[0],u=o[1],d=Object(i.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(r){var t,a,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(null),e.next=4,q(r);case 4:if(t=e.sent,a=t.data,s=a.message,"string"===typeof(null===(i=a.user)||void 0===i?void 0:i.name)&&"string"===typeof(null===i||void 0===i?void 0:i.email)){e.next=9;break}return n(null!==s&&void 0!==s?s:"There was a problem with server response. Please contact support."),e.abrupt("return");case 9:u(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n(re(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),[]);return Object(g.jsx)(P,{title:"Sign in",children:l?Object(g.jsx)($,{user:l}):Object(g.jsx)(X,{onSubmit:d,error:t})})},ne=F.a({email:F.c().max(50,"E-mail address is too long").email("Invalid e-mail address").required("E-mail is required"),name:F.c().max(50,"Provided name is too long").matches(/[\s]/,"Missing last name").required("Full name is required"),password:F.c().min(8,"Password is too short").required("Password is required"),confirmPassword:F.c().oneOf([F.b("password"),null],"Please confirm your password").required("Please confirm your password")}),ae=function(e){var r=e.onSubmit,t=e.error,n=Object(i.useState)(!1),a=Object(p.a)(n,2),c=a[0],s=a[1],o=function(e){return function(r){s(!0),e(r)}};return Object(g.jsx)(R.a,{initialValues:{email:"",name:"",password:"",confirmPassword:""},validationSchema:ne,onSubmit:r,children:function(e){var r=e.touched,n=e.errors,a=e.isValid,s=e.handleSubmit,i=e.getFieldProps,l=e.isSubmitting;return Object(g.jsxs)(V,{onSubmit:o(s),children:[Object(g.jsx)(U,{label:"E-mail address",touched:r.email,error:n.email,formikProps:i("email"),inputProps:{type:"email",required:!0}}),Object(g.jsx)(U,{label:"Full name",touched:r.name,error:n.name,formikProps:i("name"),inputProps:{type:"text",required:!0}}),Object(g.jsx)(U,{label:"Password",touched:r.password,error:n.password,formikProps:i("password"),inputProps:{type:"password",required:!0}}),Object(g.jsx)(U,{label:"Confirm your password",touched:r.confirmPassword,error:n.confirmPassword,formikProps:i("confirmPassword"),inputProps:{type:"password",required:!0}}),Object(g.jsx)(Q,{isValid:a,touched:c,error:t}),Object(g.jsx)(Y,{status:l?"pending":null,children:"Continue"})]})}})};!function(e){e.TimeoutError="ECONNABORTED"}(ee||(ee={}));var ce=function(e){var r,t;return"string"===typeof(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)?e.response.data.message:e.code===ee.TimeoutError?"Error connecting to server. Please check your connection and contact support if issues persist.":e.message},se=function(){var e=Object(i.useState)(null),r=Object(p.a)(e,2),t=r[0],n=r[1],a=Object(i.useState)(null),o=Object(p.a)(a,2),l=o[0],u=o[1],d=Object(i.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(r){var t,a,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(null),e.next=4,T(r);case 4:if(t=e.sent,a=t.data,s=a.message,"string"===typeof(null===(i=a.user)||void 0===i?void 0:i.name)&&"string"===typeof(null===i||void 0===i?void 0:i.email)){e.next=9;break}return n(null!==s&&void 0!==s?s:"There was a problem with server response. Please contact support."),e.abrupt("return");case 9:u(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n(ce(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),[]);return Object(g.jsx)(P,{title:"Sign up",children:l?Object(g.jsx)($,{user:l}):Object(g.jsx)(ae,{onSubmit:d,error:t})})},ie=function(){return Object(g.jsx)(d.a,{children:Object(g.jsxs)(m.c,{children:[Object(g.jsx)(m.a,{path:"/signin",children:Object(g.jsx)(te,{})}),Object(g.jsx)(m.a,{path:"/signup",children:Object(g.jsx)(se,{})}),Object(g.jsx)(m.a,{path:"/",children:Object(g.jsx)(se,{})})]})})},oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,264)).then((function(r){var t=r.getCLS,n=r.getFID,a=r.getFCP,c=r.getLCP,s=r.getTTFB;t(e),n(e),a(e),c(e),s(e)}))},le=t(13),ue=t(76),de=t(24),me=t(28),pe="https://api.orm-task.dev/v1",be=1500,fe=function(e){return e+(1e3*Math.random()-500)},je=[de.c.post("".concat(pe,"/users/register"),function(){var e=Object(s.a)(c.a.mark((function e(r,t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,ne.validateSync(r.body),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",t(n.delay(fe(be)),n.status(me.a.BAD_REQUEST),n.json({message:e.t0})));case 7:if("already@registered.com"!==(a=r.body).email){e.next=10;break}return e.abrupt("return",t(n.delay(fe(be)),n.status(me.a.CONFLICT),n.json({message:"The e-mail address you've provided is already registered."})));case 10:if("fail me"!==a.name){e.next=12;break}return e.abrupt("return",t(n.delay(fe(be)),n.status(me.a.INTERNAL_SERVER_ERROR),n.json({message:"There was an error processing your form data. Please contact support if issues persist."})));case 12:if("timeout me"!==a.name){e.next=14;break}return e.abrupt("return",t(n.delay("infinite")));case 14:if("network error me"!==a.name){e.next=16;break}return e.abrupt("return",t.networkError("Failed to connect."));case 16:return e.abrupt("return",t(n.delay(fe(be)),n.status(me.a.CREATED),n.json({message:"User was successfully registered.",user:{name:a.name,email:a.email}})));case 17:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(r,t,n){return e.apply(this,arguments)}}()),de.c.post("".concat(pe,"/users/authenthicate"),function(){var e=Object(s.a)(c.a.mark((function e(r,t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,I.validateSync(r.body),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",t(n.delay(fe(be)),n.status(me.a.BAD_REQUEST),n.json({message:e.t0})));case 7:if("fail@me.com"!==(a=r.body).email){e.next=10;break}return e.abrupt("return",t(n.delay(fe(be)),n.status(me.a.INTERNAL_SERVER_ERROR),n.json({message:"There was an error processing your form data. Please contact support if issues persist."})));case 10:if("timeout@me.com"!==a.email){e.next=12;break}return e.abrupt("return",t(n.delay("infinite")));case 12:if("network.error@me.com"!==a.email){e.next=14;break}return e.abrupt("return",t.networkError("Failed to connect."));case 14:if("john.doe@mail.com"!==a.email||"longenoughpassword"!==a.password){e.next=16;break}return e.abrupt("return",t(n.delay(fe(be)),n.status(me.a.OK),n.json({message:"User was successfully logged in.",user:{name:"John Doe",email:a.email}})));case 16:return e.abrupt("return",t(n.delay(fe(be)),n.status(me.a.UNAUTHORIZED),n.json({message:"Provided e-mail or password is incorrect."})));case 17:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(r,t,n){return e.apply(this,arguments)}}())],_e=ue.a.apply(void 0,Object(le.a)(je));(function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/orm-frontend-task"!==window.location.pathname){e.next=3;break}return window.location.pathname+="/",e.abrupt("return");case 3:return e.next=5,_e.start({waitUntilReady:!0,serviceWorker:{url:"/orm-frontend-task/mockServiceWorker.js"}});case 5:u.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(ie,{})}),document.getElementById("root")),oe();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},36:function(e,r,t){e.exports={field:"Field_field__3DbyS",field__error:"Field_field__error__2vHXr",field__label:"Field_field__label__21wSi","field__required-asterisk":"Field_field__required-asterisk__bzYk0",field__input:"Field_field__input__2onQu","field__input--invalid":"Field_field__input--invalid__hnr4K"}},39:function(e,r,t){e.exports={layout:"Layout_layout__3NDCU",layout__container:"Layout_layout__container__3ja_H",layout__content:"Layout_layout__content__YcH8X","layout__children-container":"Layout_layout__children-container__1dERg"}},65:function(e,r,t){e.exports={logo:"Logo_logo__27mqI",logo__circle:"Logo_logo__circle__2wHKp","logo__circle--raspberry":"Logo_logo__circle--raspberry__h27s0","logo__circle--blackberry":"Logo_logo__circle--blackberry__1Iltt"}},78:function(e,r,t){e.exports={submit:"Submit_submit__13hGd","submit--pending":"Submit_submit--pending__1yxvv","button-loading-spinner":"Submit_button-loading-spinner__E1JVn"}},79:function(e,r,t){e.exports={"thank-you":"ThankYou_thank-you__3FJI6","thank-you__ok-hand":"ThankYou_thank-you__ok-hand__18EfV"}}},[[263,1,2]]]);
//# sourceMappingURL=main.bb82e9b9.chunk.js.map